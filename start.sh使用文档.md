### start.sh使用文档

#### 脚本简介

该脚本用于管理 Java 应用程序 `Ant-0.0.1-SNAPSHOT.jar` 的启动、停止、重启和状态检查。日志文件将被存储在 `/root/trap/logs` 目录中，文件名基于当前日期生成。仅作示例，请根据自己的实际需要替换文件名、日志路径和启动参数。

#### 脚本位置

请将脚本保存为 `start.sh` 文件，并确保它具有执行权限。

```
chmod +x start.sh
```

#### 使用方法

脚本支持以下操作模式：

- `start`：启动程序
- `stop`：停止程序
- `restart`：重启程序
- `status`：查看程序状态

##### 启动程序

```
sh start.sh start
```

或者

```
./ start.sh start
```

##### 停止程序

```
sh start.sh stop
```

或者

```
./ start.sh stop
```

##### 重启程序

```
sh start.sh restart
```

或者

```
./ start.sh restart
```

##### 查看程序状态

```
sh start.sh status
```

或者

```
./ start.sh status
```

#### 脚本功能

1. **创建日志目录**
   脚本在执行时会检查日志目录 `/root/trap/logs` 是否存在，如果不存在则创建该目录。
2. **检查程序是否在运行**
   脚本使用 `pgrep` 命令检查 `Ant-0.0.1-SNAPSHOT.jar` 是否正在运行。如果程序正在运行，则返回 0，否则返回 1。
3. **启动程序**
   - 如果程序已在运行，脚本会输出提示信息。
   - 如果程序未在运行，脚本将使用 `nohup` 启动程序，并将日志输出到基于当前日期的日志文件中。
4. **停止程序**
   - 如果程序正在运行，脚本会杀死该进程，并记录停止信息到日志文件中。
   - 如果程序未在运行，脚本会输出提示信息。
5. **查看程序状态**
   脚本会检查程序是否在运行，并输出相应的状态信息。
6. **重启程序**
   - 先停止程序
   - 然后重新启动程序

#### 注意事项

- 确保脚本具有足够的权限以执行所需的操作。
- 确保日志目录 `/root/trap/logs` 对脚本具有写权限。
- 根据需要调整 `APP_NAME` 和 `LOG_DIR` 变量以适配不同的应用程序和日志路径。

#### 示例

启动程序示例：

```
sh start.sh start
```

停止程序示例：

```
sh start.sh stop
```

查看程序状态示例：

```
sh start.sh status
```

重启程序示例：

```
sh start.sh restart
```

#### 常见问题

- **如何调整日志文件路径？**
  编辑脚本中的 `LOG_DIR` 变量，设置为所需的日志文件路径。
- **如何更改程序名称？**
  编辑脚本中的 `APP_NAME` 变量，以匹配应用程序的实际名称。
- **如何更改程序启动参数？**
  编辑脚本中 nohup java -jar ${APP_NAME} --server.port=8082 -Xmx512m -Xms512m -Xmn256m >> ${LOG_FILE} 2>&1 &   部分，根据自己实际需要设置参数

